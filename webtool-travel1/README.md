# ぬるっと旅行・冒険プランナー

AI活用旅行企画ツール - 理想の旅プランを生成・可視化

## 📋 プロジェクト概要

「ぬるっと旅行・冒険プランナー」は、ユーザーの選択に基づいてAIが個人化された旅行プランを生成する静的Webアプリケーションです。段階的な選択システムにより、ユーザーは旅の目的、同行者、行き先、予算を選択し、AIが魅力的な旅行ストーリーと実用的なTipsを作成します。

### 🎯 コンセプト
- **仮想旅行設計**: 行き先・同行者・予算・季節・体験内容を選択しながら理想の旅を設計
- **ストーリー生成**: 各選択に応じて自動生成される物語仕立ての旅行記
- **視覚的体験**: 風景写真や名所・アクティビティ画像の自動生成
- **実用性**: 観光Tips・アドバイス・現地の豆知識をヒントカード形式で提示
- **記録保存**: PDF化による「理想の旅プラン」「思い出の再現」「次の旅行のインスピレーション」

## 🏗️ プロジェクト構造

```
webtool-travel1/
├── index.html          # メインHTMLファイル (1,062行)
├── app.js              # メインJavaScriptファイル (1,025行)
├── 実装案.txt           # 仕様書・要件定義
└── README.md           # このファイル
```

### 📁 ファイル構成詳細

- **index.html**: UI/UX、スタイリング、レスポンシブデザイン
- **app.js**: アプリケーションロジック、API呼び出し、状態管理
- **実装案.txt**: プロジェクト仕様書、コンセプト、機能要件

## ✅ 実装済み機能

### 🎨 ユーザーインターフェース
- [x] **段階的選択システム** (4ステップ)
  - ステップ1: 旅の目的選択 (癒し/冒険/グルメ/文化)
  - ステップ2: 同行者選択 (ひとり/恋人/家族/友人)
  - ステップ3: 行き先選択 (国内/アジア/ヨーロッパ/その他)
  - ステップ4: 予算選択 (エコノミー/スタンダード/ラグジュアリー/プレミアム)
- [x] **プログレスバー** による進行状況表示
- [x] **レスポンシブデザイン** (モバイル対応)
- [x] **アニメーション効果**
  - 選択時のパルスアニメーション
  - ステップ間のフェード遷移
  - タイピングエフェクトによる結果表示

### 🤖 AI機能
- [x] **LLM API統合**
  - nurumayu-worker API使用
  - meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8モデル
  - エラーハンドリング・タイムアウト設定
- [x] **コンテンツ生成**
  - 物語仕立ての旅行ストーリー (1000-1500文字)
  - 実用的な旅のTips・豆知識 (3-5ポイント)
  - フォールバックコンテンツ (オフライン対応)

### 🖼️ 画像生成
- [x] **風景画像自動生成**
  - 選択条件に基づいたプロンプト生成
  - Unsplash API統合 (サンプル実装)
  - 3枚の風景画像を順次生成
  - ローディングアニメーション

### 📄 出力機能
- [x] **PDF出力** (jsPDF使用)
  - 選択条件・ストーリー・Tipsを含む
  - 自動ページング・フッター付き
  - 日付付きファイル名
- [x] **コピー機能** (クリップボード)
- [x] **シェア機能** (Web Share API対応)

### 💾 データ管理
- [x] **ローカルストレージ**
  - 選択状態の自動保存
  - 7日間の有効期限
  - ページリロード時の状態復元
- [x] **状態管理**
  - リアルタイム選択追跡
  - リセット機能

## ⚠️ 特定された問題点とバグ

### 🐛 既知のバグ
1. **タイピングエフェクトの問題**
   - 長文での表示崩れの可能性
   - HTMLタグ処理の不備
   
2. **画像生成の制限**
   - Unsplash APIの検索精度
   - 失敗時のフォールバック画像未実装

3. **PDF生成の制限**
   - 日本語フォント対応不完全
   - 画像埋め込み未対応

### 🔧 改善が必要な箇所

#### UI/UX改善点
- **アクセシビリティ**: キーボードナビゲーション未対応
- **エラー表示**: ユーザーフレンドリーなエラーメッセージの改善
- **ローディング状態**: より詳細な進行状況表示

#### パフォーマンス最適化
- **画像遅延読み込み**: lazy loading実装
- **API呼び出し最適化**: キャッシュ機能追加
- **コード分割**: モジュール化によるファイルサイズ削減

#### セキュリティ
- **XSS対策**: innerHTML使用箇所の sanitization
- **API安全性**: レート制限対応

## 🚧 未実装機能

### 仕様書で言及されているが未実装
1. **VR旅行との連携**
2. **実際の旅行ブログ・口コミ統合**
3. **多言語対応**
4. **ソーシャル機能** (ユーザー登録・共有)
5. **詳細な旅程プランニング** (日程・宿泊・交通手段)

### 技術的拡張
1. **真のAI画像生成** (DALL-E、Midjourney等)
2. **音声読み上げ機能**
3. **地図統合** (Google Maps API)
4. **天気情報API連携**
5. **予約システム連携**

## 🛠️ 技術スタック

### フロントエンド
- **HTML5**: セマンティックマークアップ
- **CSS3**: Flexbox、Grid、アニメーション
- **Vanilla JavaScript**: ES6+、非同期処理

### 外部ライブラリ・API
- **Font Awesome**: アイコンライブラリ
- **jsPDF**: PDF生成ライブラリ
- **html2canvas**: HTML→Canvas変換
- **nurumayu-worker API**: LLM推論
- **Unsplash Source API**: 画像取得

### 開発環境
- **静的ホスティング対応**
- **CDN依存**: 外部ライブラリ読み込み
- **ローカル実行可能**

## 🚀 セットアップ・使用方法

### 前提条件
- モダンWebブラウザ (Chrome, Firefox, Safari, Edge)
- インターネット接続 (API・CDN用)

### インストール
1. プロジェクトをクローン・ダウンロード
2. `index.html`をWebブラウザで開く
3. ローカルサーバー推奨 (CORS対策)

```bash
# Python簡易サーバー
python -m http.server 8000

# Node.js serve
npx serve .
```

### 使用手順
1. **旅の目的選択**: 4つの選択肢から選択
2. **同行者選択**: 旅行スタイルを決定
3. **行き先選択**: 地域を選択
4. **予算選択**: 旅行グレードを決定
5. **プラン生成**: AIが自動でストーリー作成
6. **結果確認**: 画像・PDF出力・シェア

## 🔮 将来の拡張計画

### Phase 1: 基本機能強化
- [ ] 真のAI画像生成API統合
- [ ] 多言語対応 (英語・中国語・韓国語)
- [ ] アクセシビリティ改善

### Phase 2: 機能拡張
- [ ] 地図・天気情報統合
- [ ] ソーシャル機能追加
- [ ] 予約システム連携

### Phase 3: エンタープライズ機能
- [ ] 管理画面開発
- [ ] 分析・レポート機能
- [ ] API提供機能

## 📊 コード品質・メトリクス

### 統計情報
- **総行数**: 2,087行 (HTML: 1,062, JS: 1,025)
- **JavaScript関数数**: 約30個
- **CSS規則数**: 約150個
- **外部依存**: 3つのライブラリ

### コード品質
- **ESLint対応**: 要設定
- **プリティア対応**: 要設定
- **テストカバレッジ**: 未実装
- **ドキュメント**: 本README

## 🤝 貢献ガイドライン

### 開発への参加
1. Issue作成・確認
2. フォーク・ブランチ作成
3. 機能開発・テスト
4. プルリクエスト作成

### コードスタイル
- **インデント**: 2スペース
- **命名規則**: camelCase (JS), kebab-case (CSS)
- **コメント**: 日本語対応

## 📞 サポート・連絡先

### 問題報告
- GitHub Issues推奨
- バグレポート・機能要望受付

### 開発者情報
- **プロジェクト**: ぬるま湯データラボ
- **作成者**: AI開発チーム
- **最終更新**: 2025年1月

## 📄 ライセンス

このプロジェクトは学習・研究目的で作成されています。
商用利用時は適切なライセンス設定を行ってください。

---

*Generated by AI Travel Planner - 理想の旅をAIと共に創造しよう* ✈️🗺️