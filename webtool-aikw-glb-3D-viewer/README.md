# AIKW 3D Viewer

WebブラウザでGLB/GLTFモデルを手軽に確認できる高機能3Dビューアです。

![AIKW 3D Viewer](https://img.shields.io/badge/Version-2.0-blue)
![HTML5](https://img.shields.io/badge/HTML5-E34F26?logo=html5&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?logo=javascript&logoColor=black)
![Three.js](https://img.shields.io/badge/Three.js-000000?logo=three.js&logoColor=white)

## 🎯 概要

AIKW 3D Viewerは、3Dアーティスト、Web開発者、デザイナーがGLB/GLTFモデルを素早く確認・プレゼンテーションするための軽量Webアプリケーションです。ドラッグ&ドロップの簡単操作で3Dモデルを読み込み、直感的なカメラ操作と高度な照明調整機能を提供します。

## ✨ 主要機能

### 📁 モデル読込・表示
- **ドラッグ&ドロップ対応**: GLB/GLTFファイルをブラウザに直接ドラッグ
- **ファイル選択**: クリックしてファイルブラウザから選択
- **自動センタリング**: モデルを自動的に画面中央に配置・スケール調整
- **高品質レンダリング**: Three.js WebGLによるリアルタイム3Dレンダリング

### 🎮 カメラ操作
- **OrbitControls**: マウス・タッチでスムーズなカメラ操作
- **回転**: マウスドラッグでカメラを回転
- **ズーム**: マウスホイールで滑らかなズーム
- **パン**: 中クリックドラッグでパン操作
- **ダンピング効果**: 自然な慣性付きカメラ操作

### 💡 照明システム
- **動的照明調整**: リアルタイムで照明の強度を調整
- **指向性ライト**: メインライトの強度調整（0-20）
- **補助ライト**: サブライトの強度調整（0-20）
- **照明プリセット**: 4つのプリセット設定でワンクリック切り替え
  - バランス重視（指向性: 5.0, 補助: 2.5）
  - 明るめ（指向性: 7.0, 補助: 3.5）
  - かなり明るめ（指向性: 10.0, 補助: 6.0）- デフォルト
  - 非常に明るめ（指向性: 15.0, 補助: 8.0）

### 🎨 背景カスタマイズ
- **プリセット色**: 5つの背景色プリセット
- **カラーピッカー**: 自由な背景色選択
- **リアルタイム反映**: 変更が即座に反映

### 📷 スクリーンショット機能
- **高品質出力**: 現在のビューをPNG画像として保存
- **WebGL最適化**: preserveDrawingBufferによる高品質出力
- **エラーハンドリング**: WebGLコンテキスト復元対応

### ⚙️ ユーザーインターフェース
- **設定パネル**: 右上の歯車アイコンで表示/非表示切り替え
- **レスポンシブデザイン**: モバイル端末対応
- **モダンUI**: ガラスモーフィズム効果とスムーズアニメーション
- **AIKWブランディング**: カスタムロゴとブランドカラー

## 🚀 使い方

### 1. モデルの読込
1. GLB/GLTFファイルをブラウザウィンドウにドラッグ&ドロップ
2. または「ファイルを選択」ボタンをクリックして選択
3. モデルが自動的に中央に配置され、適切なサイズに調整されます

### 2. カメラ操作
- **回転**: マウス左ドラッグでカメラを回転
- **ズーム**: マウスホイールでズーム（ピンチ操作対応）
- **パン**: マウス中ボタンドラッグ（モバイルでは二本指ドラッグ）

### 3. 照明調整
1. 右上の⚙️設定ボタンをクリック
2. 照明セクションでスライダーを調整
3. プリセットボタンで素早く設定変更

### 4. 背景変更
- コントロールパネルのプリセットカラーをクリック
- またはカラーピッカーで自由に色を選択

### 5. スクリーンショット
- 📷撮影ボタンをクリックして現在のビューを保存

## 🛠️ 技術仕様

### 依存ライブラリ
- **Three.js r128**: 3Dレンダリングエンジン
- **GLTFLoader**: GLB/GLTFファイル読込
- **OrbitControls**: カメラ操作

### ブラウザ対応
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- モバイルブラウザ対応

### パフォーマンス最適化
- WebGLレンダリング最適化
- シャドウマッピング（PCFSoftShadowMap）
- トーンマッピング（ACESFilmicToneMapping）
- アンチエイリアシング対応

## 📁 ファイル構成

```
webtool-aikw-glb-3D-viewer/
├── index.html                    # メインHTML（558行）
├── glb-viewer.js                # GLBViewerクラス（383行）
├── main.js                      # 初期化処理（4行）
├── AIKW_logo_transparen.png     # AIKWロゴファイル
├── CLAUDE.md                    # 開発者向けガイド
├── README.md                    # このファイル
└── 実装案.txt                   # 設計仕様書（日本語）
```

## 🏗️ アーキテクチャ

### コアコンポーネント
- **GLBViewerクラス**: メインの3Dビューア機能を管理
- **Three.jsベース**: WebGLレンダリングエンジン
- **イベント駆動**: マウス・タッチイベントによる操作
- **モジュラー設計**: 機能別メソッド分離

### 主要メソッド
- `init()`: Three.jsシーンの初期化
- `loadModel(file)`: GLB/GLTFファイル読込・処理
- `setupLightingControls()`: 照明制御UI設定
- `setupLightingPresets()`: 照明プリセット機能
- `takeScreenshot()`: スクリーンショット機能
- `toggleSettings()`: 設定パネル表示制御

## 🔧 開発者向け情報

### ローカル開発
1. このリポジトリをクローン
2. `index.html`をWebブラウザで開く
3. ビルドプロセスは不要（静的HTML）

### カスタマイズポイント
- **照明設定**: `glb-viewer.js`の照明パラメータ調整
- **UI色**: CSSカスタムプロパティでテーマ変更
- **プリセット**: 照明プリセット値の追加・変更
- **背景**: デフォルト背景色・プリセット追加

### デバッグ機能
- コンソールログによる詳細な動作追跡
- WebGLコンテキスト復元対応
- エラーハンドリング完備

## 🆕 更新履歴

### v2.0.0 (2025)
- **照明システム大幅改良**: 動的照明調整・プリセット機能追加
- **UI/UX改善**: 設定パネル・レスポンシブデザイン強化
- **スクリーンショット機能修正**: WebGL最適化による高品質出力
- **AIKWブランディング**: ロゴ・名称統一
- **パフォーマンス最適化**: レンダリング品質向上

### v1.0.0 (2025)
- 初回リリース
- GLB/GLTF読込機能
- 基本的なカメラ操作
- 背景カスタマイズ機能

## 👥 作者

**Nurumayu Data Lab**  
WebApp × GenAIのイノベーション

