# AI植物辞典 - 曖昧な言葉から植物を発見

![Project Status](https://img.shields.io/badge/Status-β版開発中-orange)
![Tech Stack](https://img.shields.io/badge/Tech-HTML5%20%7C%20CSS3%20%7C%20Vanilla%20JS-blue)
![AI Features](https://img.shields.io/badge/AI-LLM%20%2B%20画像生成-green)

## 📖 プロジェクト概要

AI植物辞典は、曖昧な言葉や俗名、特徴的な表現から植物を特定する革新的なデジタル植物図鑑です。AIが学名候補を提案し、各植物の詳細な特徴を美しいイラストと共に解説します。

### 🎯 主要コンセプト
- **曖昧な検索**: 「ねこじゃらし」「白い道端の花」などの表現から植物を特定
- **AI画像生成**: 植物学的に正確で美しいイラストを自動生成
- **教育的価値**: 科学的正確性と親しみやすさを両立
- **パーソナル図鑑**: 気に入った植物をマイ図鑑として保存

## 🏗️ 技術アーキテクチャ

```
AI植物辞典
├── フロントエンド (Vanilla JavaScript/HTML5/CSS3)
│   ├── 検索インターフェース
│   ├── タブベースナビゲーション
│   ├── レスポンシブデザイン
│   └── PWA対応UI
│
├── AI統合システム
│   ├── PlantSearchLLM (植物検索AI)
│   ├── ReplicateImageClient (画像生成)
│   │   ├── SDXL Lightning (高速生成)
│   │   └── Minimax Image-01 (高品質生成)
│   └── 多言語プロンプト翻訳
│
└── データ管理
    ├── localStorage (永続化)
    ├── JSON エクスポート/インポート
    └── Base64画像データ変換
```

## ✅ 実装済み機能

### 🔍 コア検索機能
- [x] **曖昧検索**: 俗名・特徴・方言による植物検索
- [x] **AI植物識別**: LLMによる複数候補提案システム
- [x] **信頼度表示**: 各候補の確信度と根拠表示
- [x] **地域設定**: 日本/東南アジア/北米の植物データベース対応

### 🎨 画像生成システム
- [x] **複数スタイル対応**: 植物画/アニメ風/写実的
- [x] **時間帯設定**: 昼/朝/夜の環境表現
- [x] **高速・高品質生成**: SDXL Lightning & Minimax Image-01
- [x] **プロンプト表示**: 使用された生成プロンプトの確認機能
- [x] **再生成制限**: 1植物あたり3回までの制限システム

### 📚 マイ図鑑機能
- [x] **植物保存**: 検索結果からマイ図鑑への保存
- [x] **データエクスポート**: JSON形式での図鑑データ書き出し
- [x] **データインポート**: 他環境からのデータ取り込み
- [x] **Base64画像変換**: 画像付きデータの完全移植対応

### 🔧 設定・カスタマイズ
- [x] **設定永続化**: localStorage自動保存
- [x] **タブ状態復元**: ページリロード時の状態維持
- [x] **レスポンシブUI**: モバイル・デスクトップ対応

### 📊 詳細特徴表示
- [x] **総合的特徴**: 植物の全体的な特徴説明
- [x] **形態的特徴**: 葉・花・茎の形状・色・サイズ
- [x] **生態的特徴**: 生育環境・季節変化・成長パターン
- [x] **識別特徴**: 他植物との違い・特殊構造
- [x] **形態学的特徴**: 解剖学的構造・細胞レベル特徴
- [x] **生理的特徴**: 光合成タイプ・代謝経路・適応機構
- [x] **分類学的特徴**: 科・属の特徴・系統関係

## ⚠️ 既知の問題・バグ

### 🐛 画像生成関連
1. **画像生成失敗時の処理不完全**
   - 再生成回数がロールバックされない場合がある
   - ネットワークエラー時のリトライ機能なし

2. **プロンプト表示不具合**
   - 初回生成時にプロンプト情報が保存されない場合がある
   - マイ図鑑での画像プロンプト表示が不安定

### 🔍 検索機能問題
1. **エラーハンドリング不足**
   - API呼び出し失敗時のフォールバック機能なし
   - レスポンス解析エラー時の詳細情報不足

2. **検索結果復元問題**
   - ページリロード時に画像生成状態が復元されない
   - 検索履歴の完全性チェック不足

### 💾 データ管理問題
1. **インポート時の重複処理**
   - 学名重複チェックのみで、実質的に同じ植物の見落とし
   - インポートデータの整合性検証不足

## 🚧 未実装機能

### 🔍 検索機能拡張
- [ ] **画像認識検索**: 写真アップロードによる植物識別
- [ ] **音声検索**: 音声入力による検索機能
- [ ] **類似植物検索**: 既知植物からの類似種検索
- [ ] **季節・地域フィルター**: より詳細な検索条件設定

### 🎨 画像機能強化
- [ ] **画像編集機能**: 生成画像の後処理・フィルター
- [ ] **複数角度生成**: 同一植物の異なるアングル
- [ ] **成長段階表示**: 発芽から開花までの段階的表示
- [ ] **比較画像**: 類似種との並列表示

### 📊 データ分析
- [ ] **検索統計**: ユーザーの検索傾向分析
- [ ] **人気植物ランキング**: よく検索される植物の表示
- [ ] **学習履歴**: 個人の植物学習進捗追跡

### 🌐 ソーシャル機能
- [ ] **図鑑共有**: 他ユーザーとの図鑑共有機能
- [ ] **コメント・レビュー**: 植物に対するユーザーコメント
- [ ] **コミュニティ機能**: 植物愛好家のコミュニティ形成

### 📱 プラットフォーム拡張
- [ ] **PWA完全対応**: オフライン機能・プッシュ通知
- [ ] **モバイルアプリ**: React Native/Flutter版
- [ ] **デスクトップアプリ**: Electron版

## 🎯 UI/UX改善点

### 🎨 デザイン改善
1. **視覚的階層の最適化**
   - 植物カードの情報密度調整
   - アイコンとテキストの関係性強化
   - カラーパレットの統一性向上

2. **モバイル最適化**
   - タッチ操作の改善（ボタンサイズ・間隔）
   - スワイプジェスチャーの追加
   - 縦画面での画像表示最適化

3. **アクセシビリティ強化**
   - スクリーンリーダー対応
   - キーボードナビゲーション
   - ハイコントラストモード

### ⚡ パフォーマンス最適化
1. **画像表示最適化**
   - 遅延読み込み（Lazy Loading）
   - WebP形式対応
   - 画像サイズ最適化

2. **検索応答性向上**
   - 検索結果のキャッシュ機能
   - プリロード戦略
   - 非同期処理の最適化

## 📋 開発タスク（Step by Step）

### Phase 1: 重要バグ修正 🚨
**優先度: 高**

#### Task 1.1: 画像生成エラーハンドリング強化
- [ ] 再生成回数の正確な管理システム実装
- [ ] ネットワークエラー時の自動リトライ機能
- [ ] エラー詳細情報の表示改善
- [ ] 画像生成失敗時のフォールバック画像表示

#### Task 1.2: プロンプト保存機能修正
- [ ] 画像生成成功時のプロンプト確実保存
- [ ] マイ図鑑でのプロンプト表示安定化
- [ ] プロンプト情報の整合性チェック

#### Task 1.3: データ整合性向上
- [ ] インポートデータの詳細バリデーション
- [ ] 重複植物検出アルゴリズム改善
- [ ] データ破損時の修復機能

### Phase 2: コア機能強化 💪
**優先度: 高**

#### Task 2.1: 検索機能拡張
- [ ] 検索履歴・お気に入り検索語機能
- [ ] 検索候補の自動補完
- [ ] 詳細検索フィルター（科・属・特徴）
- [ ] 検索結果のソート・フィルタリング

#### Task 2.2: 画像生成機能強化
- [ ] 画像生成進捗表示
- [ ] 生成パラメータのユーザー調整機能
- [ ] バッチ画像生成（複数植物同時）
- [ ] 画像品質評価・再生成提案

#### Task 2.3: マイ図鑑機能拡張
- [ ] カテゴリ・タグ機能
- [ ] 図鑑内検索機能
- [ ] 植物メモ・観察記録機能
- [ ] 図鑑統計情報表示

### Phase 3: UI/UX改善 🎨
**優先度: 中**

#### Task 3.1: レスポンシブデザイン最適化
- [ ] モバイルファーストデザイン再設計
- [ ] タッチジェスチャー対応
- [ ] 画面サイズ別レイアウト最適化
- [ ] 動的フォントサイズ調整

#### Task 3.2: アクセシビリティ対応
- [ ] ARIA属性の適切な実装
- [ ] キーボードナビゲーション完全対応
- [ ] 音声読み上げ最適化
- [ ] カラーブラインドネス対応

#### Task 3.3: パフォーマンス最適化
- [ ] 画像遅延読み込み実装
- [ ] 検索結果キャッシュシステム
- [ ] バンドルサイズ最適化
- [ ] CDN配信準備

### Phase 4: 先進機能実装 🚀
**優先度: 中**

#### Task 4.1: 画像認識機能
- [ ] 植物写真アップロード機能
- [ ] 画像前処理・リサイズ機能
- [ ] 視覚的特徴抽出アルゴリズム
- [ ] 画像検索結果と精度表示

#### Task 4.2: PWA機能完全実装
- [ ] Service Worker実装
- [ ] オフライン機能
- [ ] プッシュ通知システム
- [ ] アプリインストール促進

#### Task 4.3: データ分析・統計機能
- [ ] ユーザー行動分析ダッシュボード
- [ ] 人気植物・検索トレンド表示
- [ ] 個人学習進捗追跡
- [ ] データエクスポート拡張

### Phase 5: プラットフォーム拡張 🌐
**優先度: 低**

#### Task 5.1: ソーシャル機能
- [ ] ユーザー認証システム
- [ ] 図鑑共有機能
- [ ] コメント・レビューシステム
- [ ] コミュニティフォーラム

#### Task 5.2: 多言語対応
- [ ] 国際化（i18n）フレームワーク実装
- [ ] 英語・中国語・韓国語対応
- [ ] 地域別植物データベース拡張
- [ ] 多言語プロンプト生成

## 🔧 技術仕様

### 使用技術スタック
- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **AI/機械学習**: Replicate API (SDXL Lightning, Minimax Image-01)
- **データストレージ**: localStorage, JSON
- **画像処理**: Canvas API, Base64変換
- **UI/UX**: CSS Grid, Flexbox, CSS Variables

### API依存関係
- **Cloudflare Workers**: Replicate APIプロキシ
- **LLM API**: 植物検索・特徴生成
- **画像生成API**: SDXL Lightning / Minimax Image-01

### ブラウザ対応
- **モダンブラウザ**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **モバイル**: iOS Safari 14+, Chrome Mobile 90+
- **必要機能**: ES6+, Fetch API, localStorage, CSS Grid

## 📁 プロジェクト構造

```
webtool-plant-dic/
├── index.html              # メインアプリケーション
├── app.js                  # LLM・画像生成統合システム
├── plant_pic/              # 生成画像保存ディレクトリ
├── プロンプトのヒント.txt   # 画像生成プロンプト参考
├── 実装案.txt              # プロジェクト設計書
└── README.md               # このファイル
```

## 🚀 クイックスタート

### 1. 環境準備
```bash
# プロジェクトディレクトリに移動
cd webtool-plant-dic

# 簡易HTTPサーバーで起動
python3 -m http.server 8080
# または
python -m http.server 8080
```

### 2. ブラウザでアクセス
```
http://localhost:8080
```

### 3. 基本使用方法
1. **検索**: 「ねこじゃらし」「白い花」などを入力
2. **設定**: スタイル・時間帯・地域を選択
3. **画像生成**: 気に入った植物の画像を生成
4. **保存**: マイ図鑑に植物を保存

## 🤝 開発への参加

このプロジェクトは開発中のため、以下の貢献を歓迎します：

### 優先的な貢献領域
1. **バグ修正**: Phase 1のタスクを中心とした問題解決
2. **UI/UX改善**: モバイル最適化・アクセシビリティ向上
3. **テスト実装**: 自動テスト・品質保証の強化
4. **ドキュメント**: コードコメント・使用方法の詳細化

### 開発ガイドライン
- **コードスタイル**: Vanilla JavaScript, セミコロンなし
- **コミット**: 機能単位での細かいコミット
- **テスト**: 新機能には対応するテストを追加
- **ドキュメント**: 変更内容をREADMEに反映

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 📞 サポート・問い合わせ

プロジェクトに関する質問やフィードバックは、GitHubのIssuesでお願いします。

---

**AI植物辞典** - 曖昧な言葉から植物を発見する楽しみを、AIの力で。 