# DIYアシスタント - 3D家具設計ツール

## 概要

DIYアシスタントは、自然言語の入力からAIが3D家具モデルを生成し、ブラウザ上でプレビューできるWebアプリケーションです。生成されたモデルはOBJやSTL形式でダウンロードでき、3Dプリンターでの製造にも対応しています。

## 主な機能

### 🎯 自然言語からの3Dモデル生成
- 日本語での家具仕様入力
- LLM（Llama-4-Maverick-17B）による自動3Dモデル生成
- 寸法パラメータによる詳細制御

### 🔮 リアルタイム3Dプレビュー
- Three.jsを活用したインタラクティブ3Dビューア
- マウス操作による回転・ズーム・パン
- リアルタイムライティングとシャドウ

### 📁 ファイル管理機能
- OBJ形式でのモデルデータ保存
- STL形式への自動変換
- プロジェクト履歴の管理

### 💼 プロジェクト管理
- 作成済みプロジェクトの一覧表示
- プロジェクトの読み込み・削除
- ローカルストレージによる状態保持

## ファイル構成

```
webtool-DIY-assist/
├── index.html       # メインUI
├── app.js           # アプリ初期化処理
├── core.js          # DIYAssistant クラス
├── scene.js         # Three.js 管理
├── ai.js            # LLM 連携ロジック
├── processing.js    # 3段階処理ワークフロー
├── obj/             # サンプルOBJファイル
├── Dev/             # 開発用ドキュメント
├── CLAUDE.md        # Claude向けガイド
└── README.md        # このファイル
```

## 技術仕様

### フロントエンド
- **HTML5/CSS3**: レスポンシブUI設計
- **JavaScript (ES6+)**: モジュール化されたクラスベース実装
- **Three.js**: 3Dレンダリングエンジン

### AIバックエンド
- **LLM API**: `https://nurumayu-worker.skume-bioinfo.workers.dev/`
- **モデル**: `meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8`
- **出力形式**: Wavefront OBJ

### データフロー
1. **入力**: 自然言語 + パラメータ
2. **処理**: LLM API → OBJデータ生成
3. **表示**: Three.js → 3Dプレビュー
4. **出力**: OBJ/STL ダウンロード

## 使用方法

### 基本操作
1. **要件入力**: テキストエリアに家具の仕様を記述
2. **パラメータ設定**: 幅・奥行・高さを数値で指定（任意）
3. **生成実行**: 「3Dモデル生成」ボタンをクリック
4. **プレビュー**: 3Dモデルをマウス操作で確認
5. **承認・ダウンロード**: STL/OBJファイルを取得

### 入力例
```
幅120cm×奥行60cm×高さ75cmの机、引き出し2つ付き、北欧風デザイン
```

### 3D操作
- **回転**: マウス左ドラッグ
- **ズーム**: マウスホイール
- **パン**: マウス右ドラッグ

### キーボードショートカット
- **Ctrl+Shift+D** : デバッグモード切替
- **Ctrl+R** : カメラ中心リセット
- **Ctrl+C** : 中心マーカー表示切替

## 開発者向け情報

### セットアップ
1. リポジトリをクローン
2. `index.html` をブラウザで開く（ローカルHTTPサーバー推奨）
3. Three.js 読み込みのためオンライン環境を推奨

### 主要クラス
- `DIYAssistant`: メインアプリケーションクラス
- 3Dシーン管理、LLM API連携、ファイル変換を統合

### API仕様
```javascript
// LLM API呼び出し例
{
  model: "meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8",
  temperature: 0.3,
  max_completion_tokens: 2000,
  messages: [...]
}
```

## 拡張可能性

### 近未来の機能
- ARプレビュー機能
- マルチマテリアル対応
- コラボレーション機能
- CADソフト連携

### カスタマイズポイント
- LLMプロンプトの最適化
- 3Dレンダリング設定
- ファイル変換アルゴリズム

## ライセンス

このプロジェクトは、ぬるま湯データラボの一部として開発されています。

## サポート

問題や提案がある場合は、プロジェクトのIssueとして報告してください。

## 既知の問題

- 履歴からプロジェクトを読み込んだ際、OBJデータの検証に失敗し3Dモデルが表示されない場合があります【Dev/dev.txt参照】。
