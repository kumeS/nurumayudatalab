# AI料理提案システム開発方針

## プロジェクト概要
冷蔵庫にある具材や家庭の調味料から、AIが最適なメニューと詳細なレシピを提案するWebアプリケーション


MCPで、ブラウザを開いて、一連の動作確認を異なるパターンで5回行ってください。もし動作にバグがあれば、適時コードを修正してください。

出力はダミーではなく、LLMのAPIを使用して、毎回異なる結果が返ってくるようになっていますか。


app-new.jsとapp.jsが重複しているなら、不要な方を削除してください。

また、名前の一貫性を持たせるため、app.jsに統一してください。


選んだ食材以外を使用してレシピを考えないでください。
もし選んだ食材を利用しない場合には、その理由を記載してください。LLM側は実装されていて、その結果がhtml側に表示されていないように思われます。

メニューを作成された時のスクロールが大きすぎるので、メニュー名をページ上部にしてスクロールが止まるようにして欲しい。


同じ食材と調味料で違うメニューを考えるは、その食材の組み合わせで一度実行した後にそのボタンが表示されるようにする。


"レシピを提案してもらう"を一度実行した後に、詳細な作り方を表示するボタンを表示させる。"同じ食材と調味料で違うメニューを考える"の右側に、


"詳細な作り方を表示"ボタンをクリックしても、作り方がアップデートされていない。そのボタンをクリックすると、詳しい手順を作り方が表示されるはずです。詳しい手順に置き変わらない、あるいは実行が失敗していれば、バグなので、コードを修正して。


使われていない食材があるときに、食材リストに入っている時があります。それはバグのか可能性があります。


選択されていない調味料が食材に追加されていても、追加表示がされていないです。

調味料の追加表示はオレンジではない別の色にしてください。


加工品は、加工品・卵・乳製品・穀物が入っていて、加工品・卵・乳製品と穀物（米、小麦、パスタ、パン）は別の項目にするのが望ましいですね。



## 課題解決
- 冷蔵庫の食材を無駄にしない
- 毎日のメニュー決めの負担軽減
- 手持ちの食材で作れる料理の発見
- 料理初心者でも分かりやすいレシピ提供

## 技術構成
- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)

## 機能要件

### 1. 食材選択機能
#### カテゴリー分類
- **野菜類**: たまねぎ、ネギ、白菜、キャベツ、トマト、にんじん、じゃがいも、ピーマン、なす、きゅうり、レタス、ほうれん草、もやし
- **肉類**: 牛肉、豚肉、鶏もも肉、鶏むね肉、ひき肉、ベーコン、ソーセージ
- **魚介類**: 鮭、まぐろ、えび、いか、あじ、さば
- **加工食品**: 卵、豆腐、納豆、チーズ、ヨーグルト、パン、麺類
- **調味料**: 醤油、味噌、塩、砂糖、酢、みりん、酒、油、だしの素、コンソメ
- **果物**: りんご、バナナ、みかん、いちご

#### UI設計
- カテゴリータブ形式での表示
- 各食材はカード形式でクリック選択
- 選択済み食材は色変化とチェックマーク表示
- 検索窓での食材名検索機能
- 選択した食材の一覧表示エリア

### 2. 条件設定機能
- **季節選択**: 春、夏、秋、冬（旬の食材を考慮）
- **食事タイプ**: 朝食、昼食、夕食、おやつ
- **調理時間**: 15分以内、30分以内、1時間以内、時間制限なし
- **料理ジャンル**: 和食、洋食、中華、イタリアン、その他
- **人数**: 1人分、2人分、3-4人分、5人以上

### 3. AI提案機能
#### 入力データ
```json
{
  "ingredients": ["たまねぎ", "豚肉", "卵"],
  "seasonings": ["醤油", "みりん", "油"],
  "season": "春",
  "mealType": "夕食",
  "cookingTime": "30分以内",
  "cuisine": "和食",
  "servings": "2人分"
}
```

#### 出力データ
```json
{
  "menuName": "豚玉丼",
  "description": "簡単で美味しい豚玉丼です",
  "ingredients": [
    {"name": "豚肉", "amount": "200g"},
    {"name": "たまねぎ", "amount": "1個"},
    {"name": "卵", "amount": "2個"}
  ],
  "seasonings": [
    {"name": "醤油", "amount": "大さじ2"},
    {"name": "みりん", "amount": "大さじ1"}
  ],
  "cookingSteps": [
    "たまねぎを薄切りにする",
    "フライパンに油を熱し、豚肉を炒める",
    "たまねぎを加えて炒める",
    "調味料を加えて味付けする",
    "溶き卵を回し入れて半熟状態にする",
    "ご飯の上に盛り付けて完成"
  ],
  "cookingTime": "20分",
  "difficulty": "簡単",
  "tips": "卵は半熟状態で火を止めると美味しく仕上がります",
  "alternatives": {
    "missingIngredients": [],
    "substitutions": [
      {"original": "豚肉", "substitute": "鶏肉でも美味しく作れます"}
    ]
  }
}
```



